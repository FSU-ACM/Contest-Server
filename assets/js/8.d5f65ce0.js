(window.webpackJsonp=window.webpackJsonp||[]).push([[8],{168:function(e,t,r){"use strict";r.r(t);var i=r(0),s=Object(i.a)({},function(){this.$createElement;this._self._c;return this._m(0)},[function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"content"},[r("h1",{attrs:{id:"extra-credit"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#extra-credit","aria-hidden":"true"}},[e._v("#")]),e._v(" Extra Credit")]),e._v(" "),r("p",[e._v("The extra credit script is located in the project root, "),r("code",[e._v("extra_credit.py")]),e._v(".")]),e._v(" "),r("p",[e._v("For the script, you will need copies of the results (one for each division) and the extra credit survey. The script works by linking the score to the team, the team to the student, and the student to the courses. See comments in the script for further details.")]),e._v(" "),r("h2",{attrs:{id:"setup"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#setup","aria-hidden":"true"}},[e._v("#")]),e._v(" Setup")]),e._v(" "),r("p",[e._v("There's two ways to run the extra credit script -- run it remotely in the Docker container for the webapp, or locally with a remote connection to the database.")]),e._v(" "),r("p",[e._v("Running locally means you need to configure Flask to connect to the database running on the remote host. This can be done by overriding your config to use an SSH tunnel which connects to the server DB. Since the default development config already points to "),r("code",[e._v("localhost:27017")]),e._v(", opening a tunnel there would be preferable. "),r("strong",[e._v("Do not commit changes to the development config")]),e._v(".")]),e._v(" "),r("h3",{attrs:{id:"_1-get-the-source-files"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#_1-get-the-source-files","aria-hidden":"true"}},[e._v("#")]),e._v(" 1. Get the source files")]),e._v(" "),r("p",[e._v("First, get a copy of the extra credit survey results. This should be a CSV where the second column (index 1) is an FSUID, and the third column (index 2) is a string of comma-delimted coursecodes (e.g. COP3014).")]),e._v(" "),r("p",[e._v('Next, download a copy of each division\'s results. You can find this under "Import/Export", then click the "results.tsv" link to download. Use the dropdown in the top right to switch between divisions.')]),e._v(" "),r("p",[e._v("Put these files somewhere the script can read them, i.e. if you're executing in the Docker container these need to be readable inside the container. Coping through the "),r("code",[e._v("share/")]),e._v(" volume from the "),r("code",[e._v("docker-compose.yml")]),e._v(" is a good way to transfer them. Consider storing them in the project root's "),r("code",[e._v("credit/")]),e._v(" folder, as this path is ignored in the "),r("code",[e._v(".gitignore")]),e._v(". Furthermore, the script expects the survey CSV file to be stored as "),r("code",[e._v("credit/survey.csv")]),e._v(".  Remember, "),r("strong",[e._v("do not commit these files")]),e._v(".")]),e._v(" "),r("h3",{attrs:{id:"_2-optional-get-inside-the-container"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#_2-optional-get-inside-the-container","aria-hidden":"true"}},[e._v("#")]),e._v(" 2. Optional: Get inside the container")]),e._v(" "),r("p",[e._v("If you're running the script from inside the container, you can enter the container using "),r("code",[e._v("docker-compose exec webapp bash")]),e._v(" to create a bash terminal inside the container.")]),e._v(" "),r("h3",{attrs:{id:"_3-run-the-script"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#_3-run-the-script","aria-hidden":"true"}},[e._v("#")]),e._v(" 3. Run the script")]),e._v(" "),r("p",[e._v("Using the "),r("code",[e._v("invoke")]),e._v(" library, you can call the extra credit script very easily. See "),r("code",[e._v("tasks.py")]),e._v(" for additional parameter details.")]),e._v(" "),r("div",{staticClass:"language-sh extra-class"},[r("pre",{pre:!0,attrs:{class:"language-text"}},[r("code",[e._v("$ inv extracredit -d upper -r credit/results_upper.tsv\nReading results_tsv...\nMatching teams to scores...\nReading extra credit survey...\nWriting class files...\nProcessing orphan scores...\n")])])]),r("p",[e._v("This will spit out several CSVs under "),r("code",[e._v("{cwd}/credit/{division}")])])])}],!1,null,null,null);s.options.__file="extra_credit.md";t.default=s.exports}}]);